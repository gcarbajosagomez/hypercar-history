function addCrsfTokenToAjaxRequest(n){var e=$("meta[name='_csrf']").attr("content"),t=$("meta[name='_csrf_header']").attr("content");return n.setRequestHeader(t,e),n}function submitLoginForm(n){n?$("#main-form")[0].action="/cms/login":$("#main-form")[0].action="/cms/login/logout";var e=$("<input>").attr("type","hidden").attr("name","_csrf").val($("meta[name='_csrf']").attr("content"));$("#main-form").append(e),$("#main-form")[0].method="POST",$("#main-form").submit()}function saveEntity(n,e){bootbox.confirm(e,function(e){1==e&&$.ajax({type:"POST",url:n,data:new FormData($("#main-form")[0]),processData:!1,contentType:!1,beforeSend:function(n){addCrsfTokenToAjaxRequest(n)}}).done(function(e){document.children[0].innerHTML=e;var t=$("input[id*='.id']")[0].value,o="";o=t.length>0?"/"+t+"/edit":"/edit",window.history.pushState(null,"",n.replace("/save",o))})})}function editEntity(n,e){bootbox.confirm(e,function(e){1==e&&$.ajax({type:"POST",url:n,data:new FormData($("#main-form")[0]),processData:!1,contentType:!1,beforeSend:function(n){n=addCrsfTokenToAjaxRequest(n)}}).done(function(n){document.children[0].innerHTML=n})})}function setUpContactUsModal(){$("#contact-us-error-alert-span").text(""),$("#contact-us-error-alert-div").addClass("hidden"),$("#contact-us-success-alert-span").text(""),$("#contact-us-success-alert-div").addClass("hidden"),$("#contact-us-subject")[0].value="",$("#contact-us-sender-name")[0].value="",$("#contact-us-sender-email")[0].value="",$("#contact-us-message")[0].value=""}function deleteEntity(n,e){bootbox.confirm(e,function(e){1==e&&$.ajax({url:n,type:"DELETE",beforeSend:function(n){n=addCrsfTokenToAjaxRequest(n)}}).done(function(e){document.children[0].innerHTML=e,window.history.pushState(null,"",n.replace(/\/[0-9]{1,}\/delete/,"/edit"))})})}function writeCarPreviews(n){for(var e=new Array,t="",o=0;o<n.length;o++)o%2==0&&(e=new Array,e[0]=n[o],o+1<=n.length-1&&(e[1]=n[o+1]),o++,zIndex=n.length-(o+1)+1,t=t.concat(writeCarListRow(e,zIndex)));$("#car-list-div")[0].innerHTML=t}function setupContentSearchEventListeners(){$("#content-search-input").keypress(function(n){13==n.which&&(n.preventDefault(),handleContentSearch($("#content-search-input")[0].value))}),$("#content-search-input").click(function(){$("#content-search-input").keypress()})}function openTechnologyStackModal(){$.ajax({url:"/technologyStack",type:"GET",beforeSend:function(n){n=addCrsfTokenToAjaxRequest(n)}}).done(function(n){$("#technology-stack-modal-div")[0].innerHTML=n,$("#technology-stack-modal-div").modal("show")})}